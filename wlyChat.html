<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
        <title>
            HiChat
        </title>
        <link rel="stylesheet" type="text/css" href="bootstrap/css/flatstrap.min.css"/>
        <link rel="stylesheet" type="text/css" href="cikonss/cikonss.css"/>
        <link rel="stylesheet" type="text/css" href="alertify/themes/alertify.core.css"/>
        <link rel="stylesheet" type="text/css" href="alertify/themes/alertify.bootstrap.css"/>
        <link rel="stylesheet" type="text/css" href="jquery-ui-bootstrap/css/custom-theme/jquery-ui-1.10.0.custom.css"/>
        <link rel="stylesheet" type="text/css" href="tipped/tipped.css" />
        <link rel="stylesheet" type="text/css" href="HiChat.css">
    </head>
    <body>
        <div class="g-bd1 f-cb">
            <div class="g-sd1 s-sd" id="sideBar">
                <div id="loginDiv" style="padding:10px 10px 10px 10px">
                    <h2>
                        请登录：
                    </h2>
                    <form class="" style="text-align:right">
                        <fieldset>
                            <table>
                                <tbody>
                                    <tr height="40">
                                        <td>
                                            <input name="username" type="text" placeholder="用户名" style="margin-left:10px;width:140px">
                                        </td>
                                    </tr>
                                    <tr height="40">
                                        <td>
                                            <input name="password" class="" type="password" placeholder="密码" style="margin-left:10px;width:140px">
                                        </td>
                                    </tr> 
                                    <tr height="40">
                                        <td colspan="2" style="text-align:center">
                                            <button type="submit" class="btn btn-success" style="margin-right:20px">登陆</button> <button class="btn btn-info" style="" id="registerBtn">注册</button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </fieldset>
                    </form>
                </div>
                <div id="mainDiv" style="padding:10px 0 10px 10px;display:none">
                    <div style="width:100%;text-align:center" id="myNameAndHeader">
                        <h3 id="myNickname"></h3>
                        <div id="myHeaderDiv" style="position:relative">
                          <img id="myHeader" src="resources/defaultHeader.jpg" />
                          <img id="myStatus" src="resources/user-chat.png" />
                        </div>
                    </div>
                    <div>
                        <!-- <table id="rosterTb">
                            <thead>
                                <tr>
                                    <th width="52"></th>
                                    <th></th>
                                    <th></th>
                                </tr>
                            </thead>
                            <tbody></tbody>
                        </table> -->
                        <div class="btn btn-success g-line u-cg" id="changeGroupBtn">
                            全部好友
                        </div>
                        <div id="rosterTb">
                          <!-- 测试好友列表滚动条专用 -->
                          <!-- <div class="g-line" style="opacity: 0.3;"><img class="u-status" src="resources/status_offline.png"><div class="u-head"><div><span class="u-mc" style="display:none"></span><img src="resources/defaultHeader.jpg"></div></div><div class="u-nick">test</div></div>                          <div class="g-line" style="opacity: 0.3;"><img class="u-status" src="resources/status_offline.png"><div class="u-head"><div><span class="u-mc" style="display:none"></span><img src="resources/defaultHeader.jpg"></div></div><div class="u-nick">test</div></div>                          <div class="g-line" style="opacity: 0.3;"><img class="u-status" src="resources/status_offline.png"><div class="u-head"><div><span class="u-mc" style="display:none"></span><img src="resources/defaultHeader.jpg"></div></div><div class="u-nick">test</div></div>                          <div class="g-line" style="opacity: 0.3;"><img class="u-status" src="resources/status_offline.png"><div class="u-head"><div><span class="u-mc" style="display:none"></span><img src="resources/defaultHeader.jpg"></div></div><div class="u-nick">test</div></div>                          <div class="g-line" style="opacity: 0.3;"><img class="u-status" src="resources/status_offline.png"><div class="u-head"><div><span class="u-mc" style="display:none"></span><img src="resources/defaultHeader.jpg"></div></div><div class="u-nick">test</div></div><div class="g-line" style="opacity: 0.3;"><img class="u-status" src="resources/status_offline.png"><div class="u-head"><div><span class="u-mc" style="display:none"></span><img src="resources/defaultHeader.jpg"></div></div><div class="u-nick">test</div></div> -->
                          <!-- /测试好友列表滚动条专用 -->

                        </div>
                    </div>
                    <div id="groupMenu" style="width:100%;position:absolute;bottom:60px;right:0;display:none">
                        <div style="margin-left:10px;margin-right:10px">
                            <span id="createRoomBtn" class="menuBtns"><img alt='创建房间' src='resources/createRoomIcon.png'></span>
                            <span id="joinRoomBtn" class="menuBtns"><img alt='加入房间' src='resources/joinRoomIcon.png'></span>
                        </div>
                    </div>
                    <div style="width:100%;position:absolute;bottom:20px;right:0;">
                        <div style="margin-left:10px;margin-right:10px">
                            <span id="subscribeBtn" class="menuBtns"><img alt='申请好友' src='resources/subscribeIcon.png'></span>
                            <span id="optionBtn" class="menuBtns"><img alt='个人信息设置' src='resources/optionIcon.png'></span>
                            <span id="chatHistoryBtn" class="menuBtns"><img alt='聊天历史记录查询' src='resources/chatHistoryIcon.png'></span>
                            <span id="groupChatBtn" class="menuBtns"><img alt='群聊' src='resources/groupIcon.png'></span>
                            <span id="logoutBtn" class="menuBtns"><img alt='退出' src='resources/logoutIcon.png'></span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="g-mn1 s-bg1">
                <div class="g-mn1c" >
                    <div id="chatTabs">
                      <ul id="chatTabUl"></ul>
                      <div id="chatTabContent"></div>
                    </div>
                    <!-- 注册对话框 -->
                    <div id="registerDialog" class="dialog">
                      <form id="registerForm">
                        <table>
                          <tbody>
                            <tr>
                              <td>用户名</td>
                              <td><input type="text" placeholder="请填写用户名" name="username"/></td>
                            </tr>
                            <tr>
                              <td>密码</td>
                              <td><input type="password" placeholder="请填写密码" name="password"/></td>
                            </tr>
                            <tr>
                              <td>确认密码</td>
                              <td><input type="password" placeholder="请确认密码" name="passRepeat"/></td>
                            </tr>
                            <tr>
                              <td colspan=2><button class="btn btn-success" type="submit">提交</button></td>
                            </tr>
                          </tbody>
                        </table>
                      </form>
                    </div>
                    <!-- /注册对话框 -->
                    <!-- 显示个人名片的对话框 -->
                    <div id="vCardDialog" class="dialog">
                        <table class="vCardTb">
                            <tbody>
                                <tr itemtype='nickname'>
                                    <td>
                                        昵称：
                                    </td>
                                    <td></td>
                                    <td>
                                        <input type="text" name='nickname' value='' placeholder='昵称'>
                                    </td>
                                </tr>
                                <tr itemtype='sex'>
                                    <td>
                                        性别：
                                    </td>
                                    <td></td>
                                    <td>
                                        <select>
                                            <option value='male'>
                                                男
                                            </option>
                                            <option value='female'>
                                                女
                                            </option>
                                        </select>
                                    </td>
                                </tr>
                                <tr itemtype='bday'>
                                    <td>
                                        生日：
                                    </td>
                                    <td></td>
                                    <td>
                                        <input type="date" name='bday' value='' placeholder='生日'>
                                    </td>
                                </tr>
                                <tr itemtype='email'>
                                    <td>
                                        邮箱：
                                    </td>
                                    <td></td>
                                    <td>
                                        <input type="text" name='email' value='' placeholder='邮箱'>
                                    </td>
                                </tr>
                                <tr itemtype='tele'>
                                    <td>
                                        手机：
                                    </td>
                                    <td></td>
                                    <td>
                                        <input type="text" name='tele' value='' placeholder='手机号码'>
                                    </td>
                                </tr>
                                <tr itemtype='desc'>
                                    <td>
                                        自我描述：
                                    </td>
                                    <td></td>
                                    <td>
                                        <textarea style="height:200px" name='desc'></textarea>
                                    </td>
                                </tr>
                                <tr itemtype='photo'>
                                    <td>
                                        个人头像：
                                    </td>
                                    <td></td>
                                    <td>
                                        <input style="width:220px" type="file" name='image' id='selfPhotoInput' placeholder='个人头像'>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div><!-- 订阅对话框 -->
                    <div id="subscribeDialog" class="dialog">
                        <table>
                            <thead>
                                <tr>
                                    <th>
                                        根据用户名查找
                                    </th>
                                    <th>
                                        <input type='text' placeholder='用户的jid'>
                                    </th>
                                </tr>
                            </thead>
                        </table>
                    </div><!-- /订阅对话框 -->
                    <!-- 个人名片对话框 -->
                    <div id="vCardPanels" class="dialog"></div><!-- /个人名片对话框 -->
                    <!-- 创建房间对话框 -->
                    <div id="createRoomDialog" class="dialog">
                      <table>
                          <thead>
                            <tr>
                              <td style="width:300px;text-align:right"></td>
                              <td></td>
                            </tr>
                          </thead>
                          <tbody>
                              <tr>
                                  <td>房间ID</td>
                                  <td><input name="roomId" type="text" placeholder="房间ID号"></td>
                              </tr>
                              <tr>
                                  <td>房间昵称</td>
                                  <td><input name="roomname" type="text" placeholder="房间昵称"></td>
                              </tr>
                              <tr>
                                  <td>房间描述</td>
                                  <td><textarea name="roomdesc"></textarea></td>
                              </tr>
                              <tr>
                                  <td>启用房间日志</td>
                                  <td><input type="checkbox" name="enablelogging"></td>
                              </tr>
                              <tr>
                                  <td>是否允许更改主题</td>
                                  <td><input type="checkbox" name="changesubject"></td>
                              </tr>
                              <tr>
                                  <td>是否允许邀请</td>
                                  <td><input type="checkbox" name="allowinvites"></td>
                              </tr>
                              <tr>
                                  <td>人数上限</td>
                                  <td>
                                      <select name="maxusers">
                                          <option value="20">
                                              20
                                          </option>
                                          <option value="30">
                                              30
                                          </option>
                                          <option value="40">
                                              40
                                          </option>
                                          <option value="50">
                                              50
                                          </option>
                                          <option value="60">
                                              60
                                          </option>
                                      </select>
                                  </td>
                              </tr>
                              <tr>
                                  <td>是否为公有房间</td>
                                  <td><input type="checkbox" name="publicroom"></td>
                              </tr>
                              <tr>
                                  <td>是否为永久房间</td>
                                  <td><input type="checkbox" name="persistentroom"></td>
                              </tr>
                              <tr>
                                  <td>是否为主持人房间</td>
                                  <td><input type="checkbox" name="moderatedroom"></td>
                              </tr>
                              <tr>
                                  <td>是否仅允许会员进入</td>
                                  <td><input type="checkbox" name="membersonly"></td>
                              </tr>
                              <tr>
                                  <td>是否需要密码</td>
                                  <td><input type="checkbox" name="passwordprotectedroom"></td>
                              </tr>
                              <tr style="display:none">
                                  <td>房间密码</td>
                                  <td><input type="password" name="roomsecret" placeholder="房间密码"></td>
                              </tr>
                              <tr>
                                  <td>是否允许查看他人信息</td>
                                  <td><input type="checkbox" name="whois"></td>
                              </tr>
                              <tr>
                                <td>管理员列表</td>
                                <td><input type='text' style='width:100px;margin:0' name='userJid' placeholder='管理员的JID'/><button class='btn btn-primary' id='addAdminBtn'>添加</button></td>
                              </tr>
                          </tbody>
                      </table>
                      <ul name="roomadmins" style="list-style:none;text-align:center">
                      </ul>
                    </div><!-- /创建房间对话框 -->
                    <!-- 加入房间对话框 -->
                    <div id="findRoomDialog" class="dialog">
                      <table>
                        <thead>
                          <tr>
                            <td>房间名称</td>
                            <td>操作</td>
                          </tr>
                        </thead>
                        <tbody></tbody>
                      </table>
                    </div>
                    <!-- /加入房间对话框 -->
                    <div id="joinRoomDialog" class="dialog">
                        <table>
                            <tbody>
                                <tr>
                                    <td>
                                        昵称：
                                    </td>
                                    <td>
                                        <input type="text" placeholder="房间内使用的昵称" name="nickname">
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        密码：
                                    </td>
                                    <td>
                                        <input type="password" placeholder="该房间需要密码" name="password">
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <!-- 群聊用户右键菜单栏 -->
                    <div id="groupUserContextMenu" class="m-ctm">
                      <ul>
                        <li style="font-size:120%">权限管理</li>
                        <li class='u-admin' affiliation="owner" name="owner">设为房间拥有者</li>
                        <li class='u-admin' affiliation="owner" name="admin">设为管理员</li>
                        <li class='u-admin' affiliation="admin" name="member">设为会员</li>
                        <li class='u-admin' affiliation="admin" name="none">设为游客</li>
                        <li class='u-admin' affiliation="admin" name="kickout">踢出</li>
                        <li class='u-admin' affiliation="admin" name="outcast">加入房间黑名单</li>
                      </ul>
                    </div>
                    <!-- /群聊用户右键菜单栏 -->
                    <!-- 群聊个人右键菜单栏 -->
                    <div id="groupConfigContextMenu" class="m-ctm">
                      <ul>
                        <li affiliation="admin" style="font-size:120%">房间管理</li>
                        <li class='u-admin' afiiliation="admin" name="getOutcastList">获取房间黑名单</li>
                        <li class='u-admin' affiliation="owner" name="changeConfig">修改房间配置</li>
                        <li class='u-admin' affiliation='owner' name="deleteRoom">删除房间</li>
                        <li style="font-size:120%">个人配置</li>
                        <li class='u-user' name="changeNickname">修改昵称</li>
                        <li class='u-user' name="changeStatus">更改状态</li>
                      </ul>
                    </div>
                    <!-- /群聊个人右键菜单栏 -->
                    <!-- 黑名单对话框 -->
                    <div id="outcastDialog" class="dialog">
                      <table>
                        <tbody></tbody>
                      </table>
                    </div>
                    <!-- /黑名单对话框 -->
                    <!-- 状态修改菜单栏 -->
                    <div id="statusContextMenu" class="m-ctm">
                      <ul>
                        <li value="chat">正常</li>
                        <li value="away">离开</li>
                        <li value="dnd">忙碌</li>
                        <li value="xa">长时间离开</li>
                      </ul>
                    </div>
                    <!-- /状态修改菜单栏 -->
                    <!-- 好友菜单栏 -->
                    <div id="rosterContextMenu" class="m-ctm">
                      <ul>
                        <li value="chat">开启聊天窗</li>
                        <li value="info">查看信息</li>
                        <li value="group">添加分组</li>
                        <li value="delete">删除好友</li>
                      </ul>
                    </div>
                    <!-- /好友菜单栏 -->
                    <!-- 分组切换菜单栏 -->
                    <div id="changeGroupMenu" class="m-ctm">
                      <ul>
                        <li value="all">全部好友</li>
                        <li value="online">在线好友</li>
                        <!-- <li value="noGroup">未分组</li> -->
                      </ul>
                    </div>
                    <!-- /分组切换菜单栏 -->
                    <!-- 好友分组对话框 -->
                    <div id="rosterGroupDialog" class="dialog">
                      <strong></strong>
                      <hr>
                      <form id="groupForm">
                        <ul>
                        </ul>
                        <button class="btn btn-success" type="submit">提交</button>
                        <button class="btn btn-primary" id="groupCreateBtn">新建</button>
                      </form>
                    </div>
                    <!-- /好友分组菜单栏 -->
                </div>
            </div>
        </div>
        <script type="text/javascript" src="jquery-1.9.1.js"></script>
        <script type="text/javascript" src="tipped/tipped.js"></script>
        <script type="text/javascript" src="ajaxfileupload.js"></script>
        <script type="text/javascript" src="bootstrap/js/bootstrap.min.js"></script>
        <script type="text/javascript" src="alertify/alertify.min.js"></script>
        <script type="text/javascript" src="jquery-ui-bootstrap/js/jquery-ui-1.9.2.custom.min.js"></script>
        <script type="text/javascript" src="jsjac.uncompressed.js"></script>
        <script type="text/javascript" src="HiChatUtils.js"></script>
        <script type="text/javascript" src="HiChatConfig.js"></script>
        <script type="text/javascript" src="HiChatModel.js"></script>
        <script type="text/javascript" src="HiChatService.js"></script>
        <script type="text/javascript" src="HiChatConnector.js"></script>
        <script type="text/javascript" src="HiChatViewer.js"></script>
        <script type="text/javascript" src="HiChatMain.js"></script>
    </body>
</html>